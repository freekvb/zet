Arch install (BIOS)
---

##### for my dell laptop 'red'
###### rather detailed I say ;)

---

#### Make bootable USB
    - download latest arch install release (magnet)
    - dd bs=4M if=path/to/archlinux.iso of=/dev/sdx status=progress oflag=sync

#### Boot the live USB environment

#### Check EUFI / BIOS
    - ls /sys/firmware/efi/efivars
    - error / no output means BIOS

#### Check internet connection
    - wired (when wifi, set it up with # wifi-menu)
    - ping www.google.nl

#### Set time and date
    - timedatectl set-ntp true

#### Patition HD
    - lsblk (check HD)
#### partition sda in boot, swap, root and home
     - use fdisk (or cfdisk)
    - fdisk /dev/sda
#### delete old partitions
    - :p (show partitions)
    - :d (delete partition, repeat and delete all)
#### make boot partition
    - :n (new partition)
    - :enter (for default primary)
    - :enter (for default partition number 1)
    - :enter (for default first sector)
    - :+200M (for size boot partition)
    - :y (for removing old signature)
    - :p (to check it all)
#### make swap partition
    - :n (new)
    - :enter (default primary)
    - :enter (default number 2)
    - :enter (default first sector)
    - :+6G (size swap - 150% of RAM)
    - :y (remove signature)
    - :p (check)
#### make root partition
    - :n (new)
    - :enter (default primary)
    - :enter (default number 3)
    - :enter (default first sector)
    - :+25G (size root)
    - :y (remove signature)
    - :p (check)
#### make home partition
    - :n (new)
    - :enter (default primary)
    - :enter (default number 4)
    - :enter (default first sector)
    - :enter (size home - all the rest of the Gigs))
    - :y (remove signature)
    - :p (check)
#### write partition table
    - :w
#### check now partitioned HD
    - lsblk

#### Set up file system
    - boot
    - mkfs.ext4 /dev/sda1
    - root
    - mkfs.ext4 /dev/sda3
    - home
    - mkfs.ext4 /dev/sda4
    - swap
    - mkswap /dev/sda2

#### Mount partitions
    - swap
    - swapon /dev/sda2
    - root
    - mount /dev/sda3 /mnt
    - home
    - mkdir /mnt/home
    - mount /dev/sda4 /mnt/home
    - boot
    - mkdir /mnt/boot
    - mount /dev/sda1 /mnt/boot
    - lsblk (to check it all)

#### Install the basic Arch Linux system
    - pacstrap /mnt base base-devel linux neovim

#### Basic config
    - fstab
    - genfstab -U /mnt >> /mnt/etc/fstab
    - nvim /mnt/etc/fstab (just checking)

#### Switch from USB to system HD
    - arch-chroot /mnt
    - ls (there's your filesystem)

#### Some more basic installs and configs
    - set up internet connection
    - pacman -S networkmanager
    - systemctl enable NetworkManager
    - set up the bootloader
    - pacman -S grub
    - grub-install --target=i386-pc /dev/sda
    - grub-mkconfig -o /boot/grub/grub.cfg
    - set a (root) password
    - passwd
    - 'password'
    - 'password' (again)
    - generate locale
    - vim /etc/locale.gen
    - uncomment 'en_US.UTF-8 UTF8' and 'en_US ISO-8859-1'
    - locale-gen
    - vim /etc/locale.conf
    - add 'LANG=en-US.UTF-8' (no quotes)
    - set timezone
    - ln -sf /usr/share/zoneinfo/Europe/Amsterdam /etc/localtime
    - set hostname
    - vim /etc/hostname
    - add 'hostname' (one word no quotes)

#### Switch back from HD to USB
    - exit
    - umount -R /mnt

#### Reboot to new Arch install on HD
    - reboot
    - remove USB during reboot !
    - booting into tty
    - root (login as root)
    - 'password'

#### Config base system
    - add user / group
    - useradd -m -g wheel 'fvb' (no quotes)
    - passwd 'fvb' (no quotes)
    - 'password' (twice)
    - set up sudo
    - vim /etc/sudoers
    - uncomment '%wheel ALL=(ALL) ALL'
    - now logoff root and login user
    - exit
    - fvb
    - 'password'

#### Install X, a wm, a terminal, some fonts and the obvious progs
    - sudo pacman -S xorg xorg-server xorg-xinit pulseaudio pulseaudio-alsa
        noto-fonts terminus-font vifm moc rtorrent zsh zsh-autosuggestions
        zsh-completions qutebrowser unclutter udiskie dunst feh htop mpv
        neofetch ufw git lynx zathura
    - git clone dwm, st, dmenu and dwmblocks from github/freekvb/
    - vim .xinit
    - add 'dwmblocks &'
    - add 'exec dwm'

#### Boot in X
    - startx
    - dwm and dwmblocks start up in a black screen
    - 'super' + 'enter' to open st

#### Further installs and configs
    - mkdir Programs
    - cd Programs

#### install yay from AUR
    - cd Programs
    - git clone https://aur.archlinux.org/yay.git
    - cd yay
    - makepkg -si
    - cd

#### install more from AUR
    - yay -S ...

#### change shell from bash to zsh
    - echo $SHELL (shell in use - bash)
    - chsh -l (which shell and 'path')
    - set zsh as default
    - chsh -s /bin/zsh (full-path-to-shel)
    - logout and login terminal
    - echo $SHELL (shell in use - zsh)

#### install dotfile from my github
    - mkdir .dotfiles
    - cd .dotfiles
    - git clone https://github.com/freekvb/dotfiles.git
    - symlink config files in place (/home/fvb/ or /home/fvb/.config/.../)
    - ln -sf /home/fvb/.dotfiles/'dotfile' /home/fvb/
    - ln -sf /home/fvb/.dotfiles/'configfile' /home/fvb/.config/.../

#### plugins for neovim from github
    - Plug (in init.vim)
    - junegunn/vim-plug
    - doums/barow
    - dylanaraps/wal.vim
    - junegunn/fzf.vim

#### other progs from github
    - gitclone ...
    - pip install ...
    - curl ...
    - see instructions gits

---

#### Have fun !

##### I use arch btw ..

